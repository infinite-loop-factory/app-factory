# 홈 화면 UI 구현 프롬프트

이 문서는 지하철 경로 추천 앱 **홈 화면**의 전체 UI 동작과 레이아웃을 프롬프트 형태로 정리한 설명입니다. 구현·디자인·프로토타입 생성 시 참고용으로 사용할 수 있습니다.

---

## 개요

- **화면 목적**: 출발역·도착역(및 선택 시 경유역) 입력 후 경로 검색으로 진입
- **핵심 원칙**:  
  - **출발·경유·도착역은 항상 같은 가로(한 행)에 위치**한다.
  - 기본은 출발역·도착역만 노출  
  - 경유 추가는 출발/도착 중 하나라도 지정된 경우에만 같은 행에 노출  
  - **입력 블록의 모양(한 행 레이아웃)은 앱 전반에서 동일**하게 유지하고, **위치만** 상황에 따라 바뀐다: 아무것도 없을 때는 화면 중앙, 하나라도 있으면 상단으로 올리고 검색·부가 기능 영역이 보이게 한다.

---

## 1. 기본 노출 (항상)

- **출발역 필드**
  - 라벨: "출발역"
  - 빈 상태: 플레이스홀더 "출발역 선택" (또는 동일 의미 문구)
  - 탭 시 → 출발역 전용 선택 화면으로 이동
- **도착역 필드**
  - 라벨: "도착역"
  - 빈 상태: 플레이스홀더 "도착역 선택"
  - 탭 시 → 도착역 전용 선택 화면으로 이동

이 두 필드만 있을 때는 **경유 추가** 버튼/필드는 보이지 않는다.

---

## 2. 경유 추가 노출 조건

- **출발역** 또는 **도착역** 중 **하나라도** 선택되어 있으면 **경유 추가** 항목을 표시한다.
- 경유역은 **최대 3개**까지 설정 가능하다.
- "경유 추가" 탭 시 → 경유역 전용 선택 화면으로 이동한다.
- 이미 3개 선택된 경우에는 "경유 추가"를 비활성화(회색 처리 등)하거나 "최대 3개" 문구로 상태를 표시한다.

---

## 3. 레이아웃 모드 (중앙 vs 상단)

### 3.1 조건 정의

- **입력 블록**: 출발역·(경유)·도착역을 **한 행(가로)** 에 배치한 하나의 레이아웃 블록. 블록의 **형태(행 구조)는 앱 전체에서 동일**하게 유지하고, **위치(중앙 vs 상단)만** 상황에 따라 바꾼다.
- **비어 있음**: 출발역·도착역·경유역이 **모두** 미설정인 상태

### 3.2 모드 A: 비어 있을 때 (중앙 배치)

- **조건**: 출발역·도착역·경유역이 **전부** 비어 있을 때
- **표시 내용**
  - 출발역 필드
  - 도착역 필드  
  (경유 추가는 아직 노출하지 않음)
- **레이아웃**
  - 출발·도착 두 필드만 있는 **한 행 입력 블록**을 화면 **세로 중앙**에 배치 (같은 행 레이아웃 유지)
  - 제목/부제목, 검색 버튼, 부가 기능 영역은 **표시하지 않음**
- **의도**: 처음 들어왔을 때는 “출발·도착만 고르면 된다”는 인상을 주고, 화면을 단순하게 유지

### 3.3 모드 B: 하나라도 설정되었을 때 (상단 배치 + 검색·부가 기능)

- **조건**: 출발역·도착역·경유역 중 **하나라도** 선택된 경우  
  (또는 “설정하려고 진입한 상태”로 확장 가능한 경우)
- **표시 내용**
  - 상단: 화면 제목·부제목 (예: "경로 찾기", "출발역과 도착역을 선택하세요")
  - 그 아래: **입력 블록** (출발역 + 도착역 + 경유 추가)
  - 그 아래: **검색 및 부가 기능** 영역
    - 문구: "검색 및 부가 기능" (또는 동일 의미)
    - 이 영역 안에 **경로 찾기(검색)** 버튼 포함
    - (추후) 즐겨찾기, 최근 검색 등 부가 기능 추가 가능
- **레이아웃**
  - 입력 블록은 **스크롤 가능한 컨텐츠의 최상단**에 위치
  - 스크롤 시 컨텐츠가 위로 밀리듯이, 검색·부가 기능 영역이 자연스럽게 아래에 이어짐
  - 필요 시 “최상단으로/최하단으로 자연스럽게 밀려난다”는 표현대로, 스크롤 동작으로 블록이 상단에 고정되거나 콘텐츠와 함께 움직이도록 구현

---

## 4. 선택 화면별 블록 위치 (유동적 UI)

같은 한 행 입력 블록(출발 | 경유 | 도착)은 **선택 화면에 진입했을 때**에도 노출되며, **출발/도착 선택 화면에서는 항상 상단**, **경유 선택 화면에서는 반분**으로만 달라진다.

- **출발역 선택 화면**  
  - 블록 레이아웃은 화면 **최상단**에 위치한다. (블록은 위, 역 목록·검색은 아래)
- **도착역 선택 화면**  
  - 블록 레이아웃은 화면 **최상단**에 위치한다. (블록은 위, 역 목록·검색은 아래)
- **경유역 선택 화면**  
  - 레이아웃이 **반으로 나뉘어** 직관적으로 유동적이다.  
  - **출발역**은 화면 **위쪽**에, **도착역**은 화면 **아래쪽**에 각각 한 줄로 표시하고, 그 **중간**에 경유역 선택(추가·순서) 영역을 둔다.

즉, 블록의 **모양(한 행)** 은 유지하고, 출발·도착 선택 시에는 블록이 **항상 상단**에, 경유 선택 시에는 출발/도착이 위·아래로 분리된 형태로만 바뀐다.

---

## 5. 검색 버튼 동작

- **검색(경로 찾기) 버튼**은 **모드 B**에서만 노출된다 (검색 및 부가 기능 영역 내).
- **활성 조건**: 출발역과 도착역이 **둘 다** 선택된 경우에만 활성화(클릭 가능).
- 비활성 시: 회색 등으로 비활성 스타일 적용, 탭해도 검색 실행 안 함.

---

## 6. 프롬프트 요약 (복사용)

아래 블록을 그대로 복사해 UI 구현·디자인·프로토타입 지시 시 사용할 수 있습니다.

```
홈 화면 UI 요구사항 (지하철 경로 앱)

1) 기본 노출
   - 출발역 필드: 라벨 "출발역", 빈 값일 때 "출발역 선택" 플레이스홀더. 탭 시 출발역 전용 선택 화면으로 이동.
   - 도착역 필드: 라벨 "도착역", 빈 값일 때 "도착역 선택" 플레이스홀더. 탭 시 도착역 전용 선택 화면으로 이동.
   - 이때 "경유 추가"는 보이지 않는다.

2) 경유 추가
   - 출발역 또는 도착역 중 하나라도 선택되면 "경유 추가" 항목을 표시한다.
   - 경유역은 최대 3개까지. 3개일 때는 비활성화 또는 "최대 3개" 문구 표시.
   - "경유 추가" 탭 시 경유역 전용 선택 화면으로 이동.

3) 레이아웃
   - 출발·경유·도착은 항상 **같은 가로(한 행)** 에 위치한다. 이 "입력 블록"의 모양(행 구조)은 앱 전반에서 동일하게 유지하고, 위치만 상황에 따라 바꾼다.
   - 비어 있을 때: 출발역·도착역 2개만 같은 행에 표시하고, 이 블록을 화면 세로 중앙에 배치. 제목/검색/부가 기능 영역은 숨김.
   - 하나라도 설정되었을 때: 제목·부제목을 넣고, 같은 한 행 입력 블록(출발+경유+도착)을 스크롤 영역 최상단에 배치한 뒤, 그 아래에 "검색 및 부가 기능" 영역을 두고 경로 찾기 버튼을 포함. 블록 모양은 그대로 두고 상단으로 올리며 검색·부가 기능이 보이도록 한다.

4) 검색 버튼
   - 검색 및 부가 기능 영역 안에만 표시.
   - 출발역·도착역이 둘 다 선택된 경우에만 활성화.

5) 선택 화면별 블록 위치 (유동적 UI)
   - 출발역·도착역 선택 화면: 블록은 항상 화면 최상단에 위치.
   - 경유역 선택 화면: 레이아웃이 반으로 나뉘어 출발역은 위, 도착역은 아래에 위치하고, 중간에 경유역 선택 영역.
```

---

## 7. 구현 참고 (현재 코드 기준)

- **상태**: `RouteSearchContext`에서 `departure`, `arrival`, `viaStations` 관리
- **비어 있음**: `!departure && !arrival && viaStations.length === 0`
- **경유 추가 노출**: `!!departure || !!arrival`
- **한 행 블록**: `flex-row`로 출발 | (경유) | 도착을 같은 행에 배치. 경유는 `showViaField`일 때만 같은 행에 포함.
- **확장 레이아웃**: `!isBlockEmpty`일 때 제목 + 같은 한 행 입력 블록 + 검색·부가 기능 영역을 가진 `ScrollView` 사용, 비어 있으면 `flex-1 justify-center`로 **같은 블록**을 중앙에만 배치 (블록 형태 동일, 위치만 다름)
- **선택 화면별 블록**: `StationBlock` 공용 컴포넌트 사용. 출발·도착 선택 화면에서는 블록을 항상 상단 고정, 경유 선택 화면에서는 `departureOnly`/`arrivalOnly`로 출발은 위·도착은 아래 분리 배치

이 문서는 `docs/concept-overview.md`, `docs/ui-prototype-prompts.md`와 함께 참고하면 된다.
