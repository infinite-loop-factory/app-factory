# 사용자 플로우 (User Flow)

이 문서는 이지토킹(EasyTalking) 앱의 사용자 플로우와 화면 간 이동 관계를 설명합니다.

## 📱 전체 플로우 개요

```
앱 시작
    ↓
카테고리 선택 (체크박스 6개)
    ↓
난이도 선택 (체크박스 3개)
    ↓
질문 메인 화면
    ├── 모드 1,2,3 선택 → 연속 카드 화면
    └── 모드 4 선택 → 질문 목록 화면 → 개별 카드 화면
```

## 🔄 단계별 상세 플로우

### 1. 앱 진입 → 카테고리 선택
**화면**: CategorySelectionScreen

**기능**:
- 6개 카테고리 체크박스 선택 (다중 선택 가능)
  - ☑️ 나의 취향
  - ☑️ 나의 재능  
  - ☑️ 나의 가치관
  - ☑️ 나의 경험
  - ☑️ 나의 일상
  - ☑️ 나의 방향성

**추가 기능**: 
- "전체 선택" 버튼
- 유효성 검사: 아무것도 선택하지 않으면 알럿 표시

**다음 단계**: 난이도 선택으로 이동

---

### 2. 카테고리 선택 → 난이도 선택
**화면**: DifficultySelectionScreen

**기능**:
- 3개 난이도 체크박스 선택 (다중 선택 가능)
  - ☑️ 쉬움
  - ☑️ 보통
  - ☑️ 어려움

**추가 기능**: 
- "전체 선택" 버튼
- 유효성 검사: 아무것도 선택하지 않으면 알럿 표시

**다음 단계**: 질문 메인 화면으로 이동

---

### 3. 난이도 선택 → 질문 메인 화면
**화면**: QuestionMainScreen

**기능**: 
#### 4가지 질문 보기 모드 선택
1. **전체 랜덤 진행** - 선택된 카테고리+난이도에서 완전 랜덤
2. **카테고리별 랜덤 진행** - 카테고리 순서대로, 각 카테고리 내에서 랜덤
3. **카테고리별 정렬 순서** - 카테고리 순서대로, 각 카테고리 내에서 원래 순서
4. **전체 목록에서 개별 확인** - 질문 목록에서 하나씩 선택해서 확인

#### 추가 기능
- **설정 다시하기** - 카테고리/난이도 선택 화면으로 돌아가기

---

### 4. 질문 메인 화면 → 질문 진행

#### 모드 1,2,3: 연속 카드 화면
**화면**: ContinuousCardScreen

**기능**: 
- 선택한 모드에 따라 질문을 **카드 형태**로 표시
- **카드 넘기기**: 스와이프 + 버튼 (둘 다 지원)
- 질문 메인 화면으로 돌아가기
- **마지막 카드**: "마지막 카드입니다" 안내 후 질문 메인 화면으로 이동

#### 모드 4: 전체 목록 → 개별 카드
**화면 1**: QuestionListScreen (질문 목록 화면)
- 선택된 조건의 모든 질문을 리스트로 표시
- 특정 질문 선택 시 해당 카드로 이동
- 질문 메인 화면으로 돌아가기

**화면 2**: IndividualCardScreen (개별 질문 카드 화면)
- 선택한 질문만 카드로 표시
- **네비게이션**: 이전/다음 버튼은 **리스트 순서**대로 이동
- 뒤로가기 시 **질문 목록 화면**으로 돌아가기

---

## 🎯 주요 특징

### 다중 선택 시스템
- **카테고리**: 여러 개 선택 가능 (예: 취향 + 재능)
- **난이도**: 여러 개 선택 가능 (예: 쉬움 + 보통)
- **전체 선택**: 각 단계에서 모든 항목 한 번에 선택

### 유연한 탐색
- **언제든 메인으로**: 모든 카드 화면에서 질문 메인으로 돌아가기 가능
- **모드 재선택**: 질문 메인에서 다른 모드로 언제든 변경
- **설정 초기화**: 카테고리/난이도 다시 선택 가능

### 카드 UI 및 조작
- **카드 형태**: 질문을 깔끔한 카드로 표시
- **스와이프 지원**: 연속 모드에서 좌우 스와이프로 카드 넘기기
- **버튼 네비게이션**: 이전/다음 버튼으로도 카드 이동 가능

### 네비게이션 구분
- **연속 모드** (1,2,3): 선택한 모드 순서로 진행 → 질문 메인으로 돌아가기
- **개별 모드** (4): 목록 → 개별 카드 → 목록으로 돌아가기

### 뒤로가기 동작
- **모든 화면**: 초기화 상태로 돌아가기 (이전 선택 내용 유지 안함)
- **단순한 UX**: 복잡한 상태 관리 없이 매번 새로 선택

---

## 🔧 구현 고려사항

### 상태 관리
```javascript
AppState {
  selectedCategories: string[],    // 선택된 카테고리 배열
  selectedDifficulties: string[],  // 선택된 난이도 배열
  currentMode: number,             // 1,2,3,4 중 선택된 모드
  filteredQuestions: Question[],   // 필터링된 질문 배열
  currentIndex: number             // 현재 질문 인덱스
}
```

### 질문 필터링 로직
1. 선택된 카테고리와 난이도로 질문 배열 필터링
2. 모드에 따라 정렬/랜덤 처리
3. 현재 인덱스로 질문 표시

### 화면 전환
- React Navigation 스택 구조
- 각 화면별 독립적인 컴포넌트
- 상태는 Context API로 전역 관리